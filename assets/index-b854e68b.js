(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(t,s);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var htmlExports={},html$1={get exports(){return htmlExports},set exports(e){htmlExports=e}},hyperscriptAttributeToProperty=attributeToProperty,transform$1={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(e){return function(t,r,n){for(var s in r)s in transform$1&&(r[transform$1[s]]=r[s],delete r[s]);return e(t,r,n)}}var attrToProp=hyperscriptAttributeToProperty,VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12,COMMENT=13,hyperx$1=function(e,t){t||(t={});var r=t.concat||function(s,a){return String(s)+String(a)};return t.attrToProp!==!1&&(e=attrToProp(e)),function(s){for(var a=TEXT,f="",u=arguments.length,l=[],c=0;c<s.length;c++)if(c<u-1){var d=arguments[c+1],g=D(s[c]),y=a;y===ATTR_VALUE_DQ&&(y=ATTR_VALUE),y===ATTR_VALUE_SQ&&(y=ATTR_VALUE),y===ATTR_VALUE_W&&(y=ATTR_VALUE),y===ATTR&&(y=ATTR_KEY),y===OPEN?f==="/"?(g.push([OPEN,"/",d]),f=""):g.push([OPEN,d]):y===COMMENT&&t.comments?f+=String(d):y!==COMMENT&&g.push([VAR,y,d]),l.push.apply(l,g)}else l.push.apply(l,D(s[c]));for(var w=[null,{},[]],T=[[w,-1]],c=0;c<l.length;c++){var _=T[T.length-1][0],g=l[c],x=g[0];if(x===OPEN&&/^\//.test(g[1])){var q=T[T.length-1][1];T.length>1&&(T.pop(),T[T.length-1][0][2][q]=e(_[0],_[1],_[2].length?_[2]:void 0))}else if(x===OPEN){var k=[g[1],{},[]];_[2].push(k),T.push([k,_[2].length-1])}else if(x===ATTR_KEY||x===VAR&&g[1]===ATTR_KEY){for(var S="",P;c<l.length;c++)if(l[c][0]===ATTR_KEY)S=r(S,l[c][1]);else if(l[c][0]===VAR&&l[c][1]===ATTR_KEY)if(typeof l[c][2]=="object"&&!S)for(P in l[c][2])l[c][2].hasOwnProperty(P)&&!_[1][P]&&(_[1][P]=l[c][2][P]);else S=r(S,l[c][2]);else break;l[c][0]===ATTR_EQ&&c++;for(var b=c;c<l.length;c++)if(l[c][0]===ATTR_VALUE||l[c][0]===ATTR_KEY)_[1][S]?l[c][1]===""||(_[1][S]=r(_[1][S],l[c][1])):_[1][S]=n(l[c][1]);else if(l[c][0]===VAR&&(l[c][1]===ATTR_VALUE||l[c][1]===ATTR_KEY))_[1][S]?l[c][2]===""||(_[1][S]=r(_[1][S],l[c][2])):_[1][S]=n(l[c][2]);else{S.length&&!_[1][S]&&c===b&&(l[c][0]===CLOSE||l[c][0]===ATTR_BREAK)&&(_[1][S]=S.toLowerCase()),l[c][0]===CLOSE&&c--;break}}else if(x===ATTR_KEY)_[1][g[1]]=!0;else if(x===VAR&&g[1]===ATTR_KEY)_[1][g[2]]=!0;else if(x===CLOSE){if(selfClosing(_[0])&&T.length){var q=T[T.length-1][1];T.pop(),T[T.length-1][0][2][q]=e(_[0],_[1],_[2].length?_[2]:void 0)}}else if(x===VAR&&g[1]===TEXT)g[2]===void 0||g[2]===null?g[2]="":g[2]||(g[2]=r("",g[2])),Array.isArray(g[2][0])?_[2].push.apply(_[2],g[2]):_[2].push(g[2]);else if(x===TEXT)_[2].push(g[1]);else if(!(x===ATTR_EQ||x===ATTR_BREAK))throw new Error("unhandled: "+x)}if(w[2].length>1&&/^\s*$/.test(w[2][0])&&w[2].shift(),w[2].length>2||w[2].length===2&&/\S/.test(w[2][1])){if(t.createFragment)return t.createFragment(w[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}return Array.isArray(w[2][0])&&typeof w[2][0][0]=="string"&&Array.isArray(w[2][0][2])&&(w[2][0]=e(w[2][0][0],w[2][0][1],w[2][0][2])),w[2][0];function D($){var A=[];a===ATTR_VALUE_W&&(a=ATTR);for(var M=0;M<$.length;M++){var E=$.charAt(M);a===TEXT&&E==="<"?(f.length&&A.push([TEXT,f]),f="",a=OPEN):E===">"&&!quot(a)&&a!==COMMENT?(a===OPEN&&f.length?A.push([OPEN,f]):a===ATTR_KEY?A.push([ATTR_KEY,f]):a===ATTR_VALUE&&f.length&&A.push([ATTR_VALUE,f]),A.push([CLOSE]),f="",a=TEXT):a===COMMENT&&/-$/.test(f)&&E==="-"?(t.comments&&A.push([ATTR_VALUE,f.substr(0,f.length-1)]),f="",a=TEXT):a===OPEN&&/^!--$/.test(f)?(t.comments&&A.push([OPEN,f],[ATTR_KEY,"comment"],[ATTR_EQ]),f=E,a=COMMENT):a===TEXT||a===COMMENT?f+=E:a===OPEN&&E==="/"&&f.length||(a===OPEN&&/\s/.test(E)?(f.length&&A.push([OPEN,f]),f="",a=ATTR):a===OPEN?f+=E:a===ATTR&&/[^\s"'=/]/.test(E)?(a=ATTR_KEY,f=E):a===ATTR&&/\s/.test(E)?(f.length&&A.push([ATTR_KEY,f]),A.push([ATTR_BREAK])):a===ATTR_KEY&&/\s/.test(E)?(A.push([ATTR_KEY,f]),f="",a=ATTR_KEY_W):a===ATTR_KEY&&E==="="?(A.push([ATTR_KEY,f],[ATTR_EQ]),f="",a=ATTR_VALUE_W):a===ATTR_KEY?f+=E:(a===ATTR_KEY_W||a===ATTR)&&E==="="?(A.push([ATTR_EQ]),a=ATTR_VALUE_W):(a===ATTR_KEY_W||a===ATTR)&&!/\s/.test(E)?(A.push([ATTR_BREAK]),/[\w-]/.test(E)?(f+=E,a=ATTR_KEY):a=ATTR):a===ATTR_VALUE_W&&E==='"'?a=ATTR_VALUE_DQ:a===ATTR_VALUE_W&&E==="'"?a=ATTR_VALUE_SQ:a===ATTR_VALUE_DQ&&E==='"'?(A.push([ATTR_VALUE,f],[ATTR_BREAK]),f="",a=ATTR):a===ATTR_VALUE_SQ&&E==="'"?(A.push([ATTR_VALUE,f],[ATTR_BREAK]),f="",a=ATTR):a===ATTR_VALUE_W&&!/\s/.test(E)?(a=ATTR_VALUE,M--):a===ATTR_VALUE&&/\s/.test(E)?(A.push([ATTR_VALUE,f],[ATTR_BREAK]),f="",a=ATTR):(a===ATTR_VALUE||a===ATTR_VALUE_SQ||a===ATTR_VALUE_DQ)&&(f+=E))}return a===TEXT&&f.length?(A.push([TEXT,f]),f=""):a===ATTR_VALUE&&f.length?(A.push([ATTR_VALUE,f]),f=""):a===ATTR_VALUE_DQ&&f.length?(A.push([ATTR_VALUE,f]),f=""):a===ATTR_VALUE_SQ&&f.length?(A.push([ATTR_VALUE,f]),f=""):a===ATTR_KEY&&(A.push([ATTR_KEY,f]),f=""),A}};function n(s){return typeof s=="function"||typeof s=="string"||s&&typeof s=="object"||s==null?s:r("",s)}};function quot(e){return e===ATTR_VALUE_SQ||e===ATTR_VALUE_DQ}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-Ôøø_:-]+)*$");function selfClosing(e){return closeRE.test(e)}var trailingNewlineRegex=/\n[\s]+$/,leadingNewlineRegex=/^\n[\s]+/,trailingSpaceRegex=/[\s]+$/,leadingSpaceRegex=/^[\s]+/,multiSpaceRegex=/[\n\s]+/g,TEXT_TAGS=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],VERBATIM_TAGS=["code","pre","textarea"],appendChild$1=function e(t,r){if(Array.isArray(r))for(var n=t.nodeName.toLowerCase(),s=!1,a,f,u=0,l=r.length;u<l;u++){var c=r[u];if(Array.isArray(c)){e(t,c);continue}(typeof c=="number"||typeof c=="boolean"||typeof c=="function"||c instanceof Date||c instanceof RegExp)&&(c=c.toString());var d=t.childNodes[t.childNodes.length-1];if(typeof c=="string")s=!0,d&&d.nodeName==="#text"?d.nodeValue+=c:(c=t.ownerDocument.createTextNode(c),t.appendChild(c),d=c),u===l-1&&(s=!1,TEXT_TAGS.indexOf(n)===-1&&VERBATIM_TAGS.indexOf(n)===-1?(a=d.nodeValue.replace(leadingNewlineRegex,"").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),a===""?t.removeChild(d):d.nodeValue=a):VERBATIM_TAGS.indexOf(n)===-1&&(f=u===0?"":" ",a=d.nodeValue.replace(leadingNewlineRegex,f).replace(leadingSpaceRegex," ").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),d.nodeValue=a));else if(c&&c.nodeType){s&&(s=!1,TEXT_TAGS.indexOf(n)===-1&&VERBATIM_TAGS.indexOf(n)===-1?(a=d.nodeValue.replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),a===""?t.removeChild(d):d.nodeValue=a):VERBATIM_TAGS.indexOf(n)===-1&&(a=d.nodeValue.replace(leadingSpaceRegex," ").replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),d.nodeValue=a));var g=c.nodeName;g&&(n=g.toLowerCase()),t.appendChild(c)}}},svgTags=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],boolProps=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"],directProps=["indeterminate"],hyperx=hyperx$1,appendChild=appendChild$1,SVG_TAGS=svgTags,BOOL_PROPS=boolProps,DIRECT_PROPS=directProps,SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",COMMENT_TAG="!--",dom=function(e){function t(s,a,f){var u;SVG_TAGS.indexOf(s)!==-1&&(a.namespace=SVGNS);var l=!1;a.namespace&&(l=a.namespace,delete a.namespace);var c=!1;if(a.is&&(c=a.is,delete a.is),l)c?u=e.createElementNS(l,s,{is:c}):u=e.createElementNS(l,s);else{if(s===COMMENT_TAG)return e.createComment(a.comment);c?u=e.createElement(s,{is:c}):u=e.createElement(s)}for(var d in a)if(a.hasOwnProperty(d)){var g=d.toLowerCase(),y=a[d];if(g==="classname"&&(g="class",d="class"),d==="htmlFor"&&(d="for"),BOOL_PROPS.indexOf(g)!==-1){if(String(y)==="true")y=g;else if(String(y)==="false")continue}g.slice(0,2)==="on"||DIRECT_PROPS.indexOf(g)!==-1?u[d]=y:l?d==="xlink:href"?u.setAttributeNS(XLINKNS,d,y):/^xmlns($|:)/i.test(d)||u.setAttributeNS(null,d,y):u.setAttribute(d,y)}return appendChild(u,f),u}function r(s){for(var a=e.createDocumentFragment(),f=0;f<s.length;f++)s[f]!=null&&(Array.isArray(s[f])?a.appendChild(r(s[f])):(typeof s[f]=="string"&&(s[f]=e.createTextNode(s[f])),a.appendChild(s[f])));return a}var n=hyperx(t,{comments:!0,createFragment:r});return n.default=n,n.createComment=t,n},browser$4=dom(document);(function(e){e.exports=browser$4})(html$1);const html=getDefaultExportFromCjs(htmlExports);var objectCreate=Object.create||objectCreatePolyfill,objectKeys$1=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter$3(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}var events$3=EventEmitter$3;EventEmitter$3.EventEmitter=EventEmitter$3;EventEmitter$3.prototype._events=void 0;EventEmitter$3.prototype._maxListeners=void 0;var defaultMaxListeners=10,hasDefineProperty;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=o.x===0}catch{hasDefineProperty=!1}hasDefineProperty?Object.defineProperty(EventEmitter$3,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter$3.defaultMaxListeners=defaultMaxListeners;EventEmitter$3.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this};function $getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$3.defaultMaxListeners:e._maxListeners}EventEmitter$3.prototype.getMaxListeners=function(){return $getMaxListeners(this)};function emitNone(e,t,r){if(t)e.call(r);else for(var n=e.length,s=arrayClone(e,n),a=0;a<n;++a)s[a].call(r)}function emitOne(e,t,r,n){if(t)e.call(r,n);else for(var s=e.length,a=arrayClone(e,s),f=0;f<s;++f)a[f].call(r,n)}function emitTwo(e,t,r,n,s){if(t)e.call(r,n,s);else for(var a=e.length,f=arrayClone(e,a),u=0;u<a;++u)f[u].call(r,n,s)}function emitThree(e,t,r,n,s,a){if(t)e.call(r,n,s,a);else for(var f=e.length,u=arrayClone(e,f),l=0;l<f;++l)u[l].call(r,n,s,a)}function emitMany(e,t,r,n){if(t)e.apply(r,n);else for(var s=e.length,a=arrayClone(e,s),f=0;f<s;++f)a[f].apply(r,n)}EventEmitter$3.prototype.emit=function(t){var r,n,s,a,f,u,l=t==="error";if(u=this._events,u)l=l&&u.error==null;else if(!l)return!1;if(l){if(arguments.length>1&&(r=arguments[1]),r instanceof Error)throw r;var c=new Error('Unhandled "error" event. ('+r+")");throw c.context=r,c}if(n=u[t],!n)return!1;var d=typeof n=="function";switch(s=arguments.length,s){case 1:emitNone(n,d,this);break;case 2:emitOne(n,d,this,arguments[1]);break;case 3:emitTwo(n,d,this,arguments[1],arguments[2]);break;case 4:emitThree(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(a=new Array(s-1),f=1;f<s;f++)a[f-1]=arguments[f];emitMany(n,d,this,a)}return!0};function _addListener(e,t,r,n){var s,a,f;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(a=e._events,a?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),f=a[t]):(a=e._events=objectCreate(null),e._eventsCount=0),!f)f=a[t]=r,++e._eventsCount;else if(typeof f=="function"?f=a[t]=n?[r,f]:[f,r]:n?f.unshift(r):f.push(r),!f.warned&&(s=$getMaxListeners(e),s&&s>0&&f.length>s)){f.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+f.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=f.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",u.name,u.message)}return e}EventEmitter$3.prototype.addListener=function(t,r){return _addListener(this,t,r,!1)};EventEmitter$3.prototype.on=EventEmitter$3.prototype.addListener;EventEmitter$3.prototype.prependListener=function(t,r){return _addListener(this,t,r,!0)};function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=bind.call(onceWrapper,n);return s.listener=r,n.wrapFn=s,s}EventEmitter$3.prototype.once=function(t,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,_onceWrap(this,t,r)),this};EventEmitter$3.prototype.prependOnceListener=function(t,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,_onceWrap(this,t,r)),this};EventEmitter$3.prototype.removeListener=function(t,r){var n,s,a,f,u;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=this._events,!s)return this;if(n=s[t],!n)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=objectCreate(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,f=n.length-1;f>=0;f--)if(n[f]===r||n[f].listener===r){u=n[f].listener,a=f;break}if(a<0)return this;a===0?n.shift():spliceOne(n,a),n.length===1&&(s[t]=n[0]),s.removeListener&&this.emit("removeListener",t,u||r)}return this};EventEmitter$3.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=objectCreate(null),this._eventsCount=0):n[t]&&(--this._eventsCount===0?this._events=objectCreate(null):delete n[t]),this;if(arguments.length===0){var a=objectKeys$1(n),f;for(s=0;s<a.length;++s)f=a[s],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function _listeners(e,t,r){var n=e._events;if(!n)return[];var s=n[t];return s?typeof s=="function"?r?[s.listener||s]:[s]:r?unwrapListeners(s):arrayClone(s,s.length):[]}EventEmitter$3.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter$3.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter$3.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter$3.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t){var r=t[e];if(typeof r=="function")return 1;if(r)return r.length}return 0}EventEmitter$3.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(e,t){for(var r=t,n=r+1,s=e.length;n<s;r+=1,n+=1)e[r]=e[n];e.pop()}function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t);return t}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}var prettierBytes_1=prettierBytes;function prettierBytes(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var n=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),r.length-1);e=Number(e/Math.pow(1e3,n));var s=r[n];return e>=10||e%1===0?(t?"-":"")+e.toFixed(0)+" "+s:(t?"-":"")+e.toFixed(1)+" "+s}var pretty=prettierBytes_1,storage_1=storage$1;function storage$1(){Object.defineProperty(window.choo,"storage",{get:e,set:noop$4});function e(){if(navigator.storage)return navigator.storage.estimate().then(function(r){var n=(r.usage/r.quota).toFixed();clr("Max storage:",fmt(r.quota)),clr("Storage used:",fmt(r.usage)+" ("+n+"%)"),navigator.storage.persisted().then(function(s){var a=s?"enabled":"disabled";clr("Persistent storage:",a)})}),"Calculating storage quota‚Ä¶";var t=window.location.protocol;return/https/.test(t)?"The Storage API is unavailable in this browser. We're sorry!":"The Storage API is unavailable. Serving this site over HTTPS might help enable it!"}}function clr(e,t){var r="#cc99cc";console.log("%c"+e,"color: "+r,t)}function fmt(e){return pretty(e).replace(" ","")}function noop$4(){}var assertExports={},assert$m={get exports(){return assertExports},set exports(e){assertExports=e}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(e,t){for(var r,n=toObject(e),s,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var f in r)hasOwnProperty.call(r,f)&&(n[f]=r[f]);if(getOwnPropertySymbols){s=getOwnPropertySymbols(r);for(var u=0;u<s.length;u++)propIsEnumerable.call(r,s[u])&&(n[s[u]]=r[s[u]])}}return n},util$1={},isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},inherits_browserExports$1={},inherits_browser$1={get exports(){return inherits_browserExports$1},set exports(e){inherits_browserExports$1=e}};typeof Object.create=="function"?inherits_browser$1.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$1.exports=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};(function(e){var t=/%[sdj%]/g;e.format=function(h){if(!S(h)){for(var m=[],v=0;v<arguments.length;v++)m.push(s(arguments[v]));return m.join(" ")}for(var v=1,L=arguments,N=L.length,R=String(h).replace(t,function(C){if(C==="%%")return"%";if(v>=N)return C;switch(C){case"%s":return String(L[v++]);case"%d":return Number(L[v++]);case"%j":try{return JSON.stringify(L[v++])}catch{return"[Circular]"}default:return C}}),O=L[v];v<N;O=L[++v])x(O)||!$(O)?R+=" "+O:R+=" "+s(O);return R},e.deprecate=function(h,m){if(b(commonjsGlobal.process))return function(){return e.deprecate(h,m).apply(this,arguments)};if(process.noDeprecation===!0)return h;var v=!1;function L(){if(!v){if(process.throwDeprecation)throw new Error(m);process.traceDeprecation?console.trace(m):console.error(m),v=!0}return h.apply(this,arguments)}return L};var r={},n;e.debuglog=function(h){if(b(n)&&(n={}.NODE_DEBUG||""),h=h.toUpperCase(),!r[h])if(new RegExp("\\b"+h+"\\b","i").test(n)){var m=process.pid;r[h]=function(){var v=e.format.apply(e,arguments);console.error("%s %d: %s",h,m,v)}}else r[h]=function(){};return r[h]};function s(h,m){var v={seen:[],stylize:f};return arguments.length>=3&&(v.depth=arguments[2]),arguments.length>=4&&(v.colors=arguments[3]),_(m)?v.showHidden=m:m&&e._extend(v,m),b(v.showHidden)&&(v.showHidden=!1),b(v.depth)&&(v.depth=2),b(v.colors)&&(v.colors=!1),b(v.customInspect)&&(v.customInspect=!0),v.colors&&(v.stylize=a),l(v,h,v.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(h,m){var v=s.styles[m];return v?"\x1B["+s.colors[v][0]+"m"+h+"\x1B["+s.colors[v][1]+"m":h}function f(h,m){return h}function u(h){var m={};return h.forEach(function(v,L){m[v]=!0}),m}function l(h,m,v){if(h.customInspect&&m&&E(m.inspect)&&m.inspect!==e.inspect&&!(m.constructor&&m.constructor.prototype===m)){var L=m.inspect(v,h);return S(L)||(L=l(h,L,v)),L}var N=c(h,m);if(N)return N;var R=Object.keys(m),O=u(R);if(h.showHidden&&(R=Object.getOwnPropertyNames(m)),M(m)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return d(m);if(R.length===0){if(E(m)){var C=m.name?": "+m.name:"";return h.stylize("[Function"+C+"]","special")}if(D(m))return h.stylize(RegExp.prototype.toString.call(m),"regexp");if(A(m))return h.stylize(Date.prototype.toString.call(m),"date");if(M(m))return d(m)}var j="",U=!1,Y=["{","}"];if(T(m)&&(U=!0,Y=["[","]"]),E(m)){var W=m.name?": "+m.name:"";j=" [Function"+W+"]"}if(D(m)&&(j=" "+RegExp.prototype.toString.call(m)),A(m)&&(j=" "+Date.prototype.toUTCString.call(m)),M(m)&&(j=" "+d(m)),R.length===0&&(!U||m.length==0))return Y[0]+j+Y[1];if(v<0)return D(m)?h.stylize(RegExp.prototype.toString.call(m),"regexp"):h.stylize("[Object]","special");h.seen.push(m);var H;return U?H=g(h,m,v,O,R):H=R.map(function(z){return y(h,m,v,O,z,U)}),h.seen.pop(),w(H,j,Y)}function c(h,m){if(b(m))return h.stylize("undefined","undefined");if(S(m)){var v="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(v,"string")}if(k(m))return h.stylize(""+m,"number");if(_(m))return h.stylize(""+m,"boolean");if(x(m))return h.stylize("null","null")}function d(h){return"["+Error.prototype.toString.call(h)+"]"}function g(h,m,v,L,N){for(var R=[],O=0,C=m.length;O<C;++O)B(m,String(O))?R.push(y(h,m,v,L,String(O),!0)):R.push("");return N.forEach(function(j){j.match(/^\d+$/)||R.push(y(h,m,v,L,j,!0))}),R}function y(h,m,v,L,N,R){var O,C,j;if(j=Object.getOwnPropertyDescriptor(m,N)||{value:m[N]},j.get?j.set?C=h.stylize("[Getter/Setter]","special"):C=h.stylize("[Getter]","special"):j.set&&(C=h.stylize("[Setter]","special")),B(L,N)||(O="["+N+"]"),C||(h.seen.indexOf(j.value)<0?(x(v)?C=l(h,j.value,null):C=l(h,j.value,v-1),C.indexOf(`
`)>-1&&(R?C=C.split(`
`).map(function(U){return"  "+U}).join(`
`).substr(2):C=`
`+C.split(`
`).map(function(U){return"   "+U}).join(`
`))):C=h.stylize("[Circular]","special")),b(O)){if(R&&N.match(/^\d+$/))return C;O=JSON.stringify(""+N),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=h.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=h.stylize(O,"string"))}return O+": "+C}function w(h,m,v){var L=h.reduce(function(N,R){return R.indexOf(`
`)>=0,N+R.replace(/\u001b\[\d\d?m/g,"").length+1},0);return L>60?v[0]+(m===""?"":m+`
 `)+" "+h.join(`,
  `)+" "+v[1]:v[0]+m+" "+h.join(", ")+" "+v[1]}function T(h){return Array.isArray(h)}e.isArray=T;function _(h){return typeof h=="boolean"}e.isBoolean=_;function x(h){return h===null}e.isNull=x;function q(h){return h==null}e.isNullOrUndefined=q;function k(h){return typeof h=="number"}e.isNumber=k;function S(h){return typeof h=="string"}e.isString=S;function P(h){return typeof h=="symbol"}e.isSymbol=P;function b(h){return h===void 0}e.isUndefined=b;function D(h){return $(h)&&F(h)==="[object RegExp]"}e.isRegExp=D;function $(h){return typeof h=="object"&&h!==null}e.isObject=$;function A(h){return $(h)&&F(h)==="[object Date]"}e.isDate=A;function M(h){return $(h)&&(F(h)==="[object Error]"||h instanceof Error)}e.isError=M;function E(h){return typeof h=="function"}e.isFunction=E;function K(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||typeof h=="symbol"||typeof h>"u"}e.isPrimitive=K,e.isBuffer=isBufferBrowser;function F(h){return Object.prototype.toString.call(h)}function I(h){return h<10?"0"+h.toString(10):h.toString(10)}var V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var h=new Date,m=[I(h.getHours()),I(h.getMinutes()),I(h.getSeconds())].join(":");return[h.getDate(),V[h.getMonth()],m].join(" ")}e.log=function(){console.log("%s - %s",G(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports$1,e._extend=function(h,m){if(!m||!$(m))return h;for(var v=Object.keys(m),L=v.length;L--;)h[v[L]]=m[v[L]];return h};function B(h,m){return Object.prototype.hasOwnProperty.call(h,m)}})(util$1);var objectAssign=objectAssign$1;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,s=0,a=Math.min(r,n);s<a;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:n<r?1:0}function isBuffer(e){return commonjsGlobal.Buffer&&typeof commonjsGlobal.Buffer.isBuffer=="function"?commonjsGlobal.Buffer.isBuffer(e):!!(e!=null&&e._isBuffer)}var util=util$1,hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return function(){}.name==="foo"}();function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return isBuffer(e)||typeof commonjsGlobal.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e?!!(e instanceof DataView||e.buffer&&e.buffer instanceof ArrayBuffer):!1}var assert$l=assert$m.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(util.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString(),r=t.match(regex);return r&&r[1]}}assert$l.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var r=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var s=n.stack,a=getName(r),f=s.indexOf(`
`+a);if(f>=0){var u=s.indexOf(`
`,f+1);s=s.substring(u+1)}this.stack=s}}};util.inherits(assert$l.AssertionError,Error);function truncate(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function inspect(e){if(functionsHaveNames||!util.isFunction(e))return util.inspect(e);var t=getName(e),r=t?": "+t:"";return"[Function"+r+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,t,r,n,s){throw new assert$l.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:s})}assert$l.fail=fail;function ok(e,t){e||fail(e,!0,t,"==",assert$l.ok)}assert$l.ok=ok;assert$l.equal=function(t,r,n){t!=r&&fail(t,r,n,"==",assert$l.equal)};assert$l.notEqual=function(t,r,n){t==r&&fail(t,r,n,"!=",assert$l.notEqual)};assert$l.deepEqual=function(t,r,n){_deepEqual(t,r,!1)||fail(t,r,n,"deepEqual",assert$l.deepEqual)};assert$l.deepStrictEqual=function(t,r,n){_deepEqual(t,r,!0)||fail(t,r,n,"deepStrictEqual",assert$l.deepStrictEqual)};function _deepEqual(e,t,r,n){if(e===t)return!0;if(isBuffer(e)&&isBuffer(t))return compare(e,t)===0;if(util.isDate(e)&&util.isDate(t))return e.getTime()===t.getTime();if(util.isRegExp(e)&&util.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if((e===null||typeof e!="object")&&(t===null||typeof t!="object"))return r?e===t:e==t;if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0;if(isBuffer(e)!==isBuffer(t))return!1;n=n||{actual:[],expected:[]};var s=n.actual.indexOf(e);return s!==-1&&s===n.expected.indexOf(t)?!0:(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}function isArguments(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function objEquiv(e,t,r,n){if(e==null||t===null||t===void 0)return!1;if(util.isPrimitive(e)||util.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var s=isArguments(e),a=isArguments(t);if(s&&!a||!s&&a)return!1;if(s)return e=pSlice.call(e),t=pSlice.call(t),_deepEqual(e,t,r);var f=objectKeys(e),u=objectKeys(t),l,c;if(f.length!==u.length)return!1;for(f.sort(),u.sort(),c=f.length-1;c>=0;c--)if(f[c]!==u[c])return!1;for(c=f.length-1;c>=0;c--)if(l=f[c],!_deepEqual(e[l],t[l],r,n))return!1;return!0}assert$l.notDeepEqual=function(t,r,n){_deepEqual(t,r,!1)&&fail(t,r,n,"notDeepEqual",assert$l.notDeepEqual)};assert$l.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}assert$l.strictEqual=function(t,r,n){t!==r&&fail(t,r,n,"===",assert$l.strictEqual)};assert$l.notStrictEqual=function(t,r,n){t===r&&fail(t,r,n,"!==",assert$l.notStrictEqual)};function expectedException(e,t){if(!e||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(e);try{if(e instanceof t)return!0}catch{}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function _tryBlock(e){var t;try{e()}catch(r){t=r}return t}function _throws(e,t,r,n){var s;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),s=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!s&&fail(s,r,"Missing expected exception"+n);var a=typeof n=="string",f=!e&&util.isError(s),u=!e&&s&&!r;if((f&&a&&expectedException(s,r)||u)&&fail(s,r,"Got unwanted exception"+n),e&&s&&r&&!expectedException(s,r)||!e&&s)throw s}assert$l.throws=function(e,t,r){_throws(!0,e,t,r)};assert$l.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)};assert$l.ifError=function(e){if(e)throw e};function strict(e,t){e||fail(e,!0,t,"==",strict)}assert$l.strict=objectAssign(strict,assert$l,{equal:assert$l.strictEqual,deepEqual:assert$l.deepStrictEqual,notEqual:assert$l.notStrictEqual,notDeepEqual:assert$l.notDeepStrictEqual});assert$l.strict.strict=assert$l.strict;var objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t},assert$k=assertExports,hasWindow=typeof window<"u";function createScheduler(){var e;return hasWindow?(window._nanoScheduler||(window._nanoScheduler=new NanoScheduler(!0)),e=window._nanoScheduler):e=new NanoScheduler,e}function NanoScheduler(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}NanoScheduler.prototype.push=function(e){assert$k.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()};NanoScheduler.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(var r;e.queue.length&&t.timeRemaining()>0;)r=e.queue.shift(),r(t);e.scheduled=!1,e.queue.length&&e.schedule()})}};NanoScheduler.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var nanoscheduler=createScheduler,assert$j=assertExports,emojis={trace:"üîç",debug:"üêõ",info:"‚ú®",warn:"‚ö†Ô∏è",error:"üö®",fatal:"üíÄ"},levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},defaultColors={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"},nanologger$3=Nanologger;function Nanologger(e,t){if(t=t||{},!(this instanceof Nanologger))return new Nanologger(e,t);assert$j.equal(typeof t,"object","nanologger: opts should be type object"),this._name=e||"",this._colors=Object.assign({},defaultColors,t.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch{this.logLevel="info"}this._logLevel=levels[this.logLevel]}Nanologger.prototype.trace=function(){for(var e=["trace"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.debug=function(){for(var e=["debug"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.info=function(){for(var e=["info"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.warn=function(){for(var e=["warn"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.error=function(){for(var e=["error"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.fatal=function(){for(var e=["fatal"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype._print=function(e){if(!(levels[e]<this._logLevel)){var t=getTimeStamp(),r=emojis[e],n=this._name||"unknown",s=e==="error"||e.fatal?this._colors.red:e==="warn"?this._colors.yellow:this._colors.green,a=[],f=[null],u="%c%s "+r+" %c%s";f.push(color(this._colors.brightBlack),t),f.push(color(this._colors.magenta),n);for(var l=1,c=arguments.length;l<c;l++){var d=arguments[l];typeof d=="string"?l===1?(u+=" %c%s",f.push(color(s)),f.push(d)):/ms$/.test(d)?(u+=" %c%s",f.push(color(this._colors.brightBlack)),f.push(d)):(u+=" %c%s",f.push(color(this._colors.white)),f.push(d)):typeof d=="number"?(u+=" %c%d",f.push(color(this._colors.magenta)),f.push(d)):a.push(d)}f[0]=u,a.forEach(function(g){f.push(g)}),Function.prototype.apply.apply(console.log,[console,f])}};function color(e){return"color: "+e+";"}function getTimeStamp(){var e=new Date,t=pad(e.getHours().toString()),r=pad(e.getMinutes().toString()),n=pad(e.getSeconds().toString());return t+":"+r+":"+n}function pad(e){return e.length!==2?0+e:e}var scheduler$4=nanoscheduler(),assert$i=assertExports,entryTypes=["frame","measure","navigation","resource","longtask"],browser$3=onPerformance$2;function onPerformance$2(e){assert$i.equal(typeof e,"function","on-performance: cb should be type function");var t=typeof window<"u"&&window.PerformanceObserver;if(!t)return;if(window._onperformance)return window._onperformance.push(e),n;window._onperformance=[e];var r=new t(s);return setTimeout(function(){s(window.performance),r.observe({entryTypes})},0),n;function n(){window._onperformance.splice(window._onperformance.indexOf(e),1)}function s(f){f.getEntries().forEach(function(u){scheduler$4.push(function(){a(u),window._onperformance.forEach(function(l){l(u)})})})}function a(f){var u=f.entryType;u==="measure"?window.performance.clearMeasures(f.name):u==="resource"&&window.performance.clearResourceTimings()}}var onPerformance$1=browser$3,scheduler$3=nanoscheduler(),assert$h=assertExports,chooHooks=ChooHooks;function ChooHooks(e){if(!(this instanceof ChooHooks))return new ChooHooks(e);assert$h.equal(typeof e,"object"),this.hasWindow=typeof window<"u",this.hasIdleCallback=this.hasWindow&&window.requestIdleCallback,this.hasPerformance=this.hasWindow&&window.performance&&window.performance.getEntriesByName,this.emitter=e,this.listeners={},this.buffer={render:{},events:{}}}ChooHooks.prototype.on=function(e,t){this.listeners[e]=t};ChooHooks.prototype.start=function(){var e=this;this.hasPerformance&&(window.performance.onresourcetimingbufferfull=function(){var t=e.listeners["resource-timing-buffer-full"];t&&t()}),onPerformance$1(function(t){if(t&&t.entryType==="measure"){var r=t.name;if(/choo\.morph/.test(r))e.buffer.render.morph=t;else if(/choo\.route/.test(r))e.buffer.render.route=t;else if(/choo\.render/.test(r))e.buffer.render.render=t;else if(/choo\.emit/.test(r)&&!/log:/.test(r)){var n=e.listeners.event;if(n){var s=r.match(/choo\.emit\('(.*)'\)/)[1];if(s==="render"||s==="DOMContentLoaded")return;var a=r.match(/\[(\d+)\]/)[1],f=e.buffer.events[a];e.buffer.events[a]=null,n(s,f,t)}}var u=e.buffer.render;if(u.render&&u.route&&u.morph){var l=e.listeners.render;if(!l)return;for(var c={};e.buffer.render.length;){var d=e.buffer.render.pop(),g=d.name;/choo\.render/.test(g)?c.render=d:/choo\.morph/.test(g)?c.morph=d:c.route=d}u.render=u.route=u.morph=void 0,l(c)}}}),this.emitter.on("*",function(t,r,n){var s=/^log:(\w{4,5})/.exec(t);if(!e.hasPerformance&&t==="render"){var a=e.listeners.render;a&&a()}else if(t==="DOMContentLoaded")e._emitLoaded();else if(s){s=s[1];var f=e.listeners["log:"+s];f&&f.apply(null,Array.prototype.slice.call(arguments,0,arguments.length-1))}else if(e.emitter.listeners(t).length)t!=="render"&&e.hasPerformance&&(e.buffer.events[n]=r);else{var u=e.listeners.unhandled;u&&u(t,r)}})};ChooHooks.prototype._emitLoaded=function(){var e=this;scheduler$3.push(function(){var r=e.listeners.DOMContentLoaded,n=e.hasWindow&&window.performance&&window.performance.timing;r&&n&&r({interactive:n.domInteractive-n.navigationStart,loaded:n.domContentLoadedEventEnd-n.navigationStart})})};var scheduler$2=nanoscheduler(),nanologger$2=nanologger$3,Hooks=chooHooks,logger_1=logger$1;function logger$1(e,t,r){var n=!0,s=Hooks(t),a=nanologger$2("choo");s.on("log:debug",f("debug")),s.on("log:info",f("info")),s.on("log:warn",f("warn")),s.on("log:error",f("error")),s.on("log:fatal",f("fatal")),s.on("event",function(u,l,c){if(!(r.filter&&!r.filter(u,l,c)))if(c){var d=c.duration.toFixed(),g=d<50?"info":"warn";l!==void 0?f(g)(u,l,d+"ms"):f(g)(u,d+"ms")}else l!==void 0?f("info")(u,l):f("info")(u)}),s.on("unhandled",function(u,l){f("error")("No listeners for "+u)}),s.on("DOMContentLoaded",function(u){if(!u)return f("info")("DOMContentLoaded");var l=u.interactive<1e3?"info":"warn";f(l)("DOMContentLoaded",u.interactive+"ms to interactive")}),s.on("render",function(u){if(!u||!u.render)return f("info")("render");var l=u.render.duration.toFixed(),c="render";n&&(n=!1,c="initial "+c);var d=Math.min((600/l).toFixed(),60);if(d===60)f("info")(c,d+"fps",l+"ms");else{var g={render:u.render.duration.toFixed()+"ms"};u.morph&&(g.morph=u.morph.duration.toFixed()+"ms"),f("warn")(c,d+"fps",l+"ms",g)}}),s.on("resource-timing-buffer-full",function(){f("error")("The browser's Resource Resource timing buffer is full. Cannot store any more timing information")}),s.start();function f(u){return function(){for(var l=[],c=0,d=arguments.length;c<d;c++)l.push(arguments[c]);scheduler$2.push(function(){a[u].apply(a,l)})}}}var assert$g=assertExports,objectChangeCallsite_1=objectChangeCallsite;function objectChangeCallsite(e,t){return assert$g.equal(typeof e,"object","object-change-callsite: target should be type object"),assert$g.equal(typeof t,"function","object-change-callsite: callback should be type function"),new Proxy(e,{set:function(r,n,s){var a=new Error,f=strip(a.stack);return t(n,s,f),r[n]=s,!0},deleteProperty:function(r,n){var s=new Error,a=strip(s.stack);return t(n,void 0,a),n in r?(delete r[n],!0):!1}})}function strip(e){var t=e.split(`
`);return t=t.length>2?t.slice(2):t,t[0]=t[0].replace(/^ {4}at /,""),`
`+t.join(`
`)}var onChange=objectChangeCallsite_1,nanologger$1=nanologger$3,assert$f=assertExports,enabledMessage="Debugging enabled. To disable run: `choo.debug = false`",disabledMessage="Debugging disabled. We hope it was helpful! üôå",debug_1=debug$1;function debug$1(e,t,r,n){var s=nanologger$1("choo-devtools"),a=window.localStorage.logLevel==="debug";a&&s.info(enabledMessage),e=onChange(e,function(f,u,l){a&&(l=l.split(`
`)[1].replace(/^ +/,""),s.info("state."+f,u,`
`+l))}),r.state=e,Object.defineProperty(window.choo,"debug",{get:function(){return window.localStorage.logLevel="debug",n.emit("debug",!0),a=!0,enabledMessage},set:function(f){assert$f.equal(typeof f,"boolean","choo-devtools.debug: bool should be type boolean"),window.localStorage.logLevel=f?"debug":"info",a=f,n.emit("debug",a),a?s.info(enabledMessage):s.info(disabledMessage)}})}var fastSafeStringify$1=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var arr=[],replacerStack=[];function stringify(e,t,r){decirc(e,"",[],void 0);var n;for(replacerStack.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,replaceGetterValues(t),r);arr.length!==0;){var s=arr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return n}function decirc(e,t,r,n){var s;if(typeof e=="object"&&e!==null){for(s=0;s<r.length;s++)if(r[s]===e){var a=Object.getOwnPropertyDescriptor(n,t);a.get!==void 0?a.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),arr.push([n,t,e,a])):replacerStack.push([e,t]):(n[t]="[Circular]",arr.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(s=0;s<e.length;s++)decirc(e[s],s,r,e);else{var f=Object.keys(e);for(s=0;s<f.length;s++){var u=f[s];decirc(e[u],u,r,e)}}r.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,r){var n=deterministicDecirc(e,"",[],void 0)||e,s;for(replacerStack.length===0?s=JSON.stringify(n,t,r):s=JSON.stringify(n,replaceGetterValues(t),r);arr.length!==0;){var a=arr.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function deterministicDecirc(e,t,r,n){var s;if(typeof e=="object"&&e!==null){for(s=0;s<r.length;s++)if(r[s]===e){var a=Object.getOwnPropertyDescriptor(n,t);a.get!==void 0?a.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),arr.push([n,t,e,a])):replacerStack.push([e,t]):(n[t]="[Circular]",arr.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(s=0;s<e.length;s++)deterministicDecirc(e[s],s,r,e);else{var f={},u=Object.keys(e).sort(compareFunction);for(s=0;s<u.length;s++){var l=u[s];deterministicDecirc(e[l],l,r,e),f[l]=e[l]}if(n!==void 0)arr.push([n,t,e]),n[t]=f;else return f}r.pop()}}function replaceGetterValues(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(replacerStack.length>0)for(var n=0;n<replacerStack.length;n++){var s=replacerStack[n];if(s[1]===t&&s[0]===r){r="[Circular]",replacerStack.splice(n,1);break}}return e.call(this,t,r)}}var clipboardCopy_1=clipboardCopy;function clipboardCopy(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch(function(a){throw a!==void 0?a:new DOMException("The request is not allowed","NotAllowedError")});var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",document.body.appendChild(t);var r=window.getSelection(),n=window.document.createRange();r.removeAllRanges(),n.selectNode(t),r.addRange(n);var s=!1;try{s=window.document.execCommand("copy")}catch(a){console.log("error",a)}return r.removeAllRanges(),window.document.body.removeChild(t),s?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}var fastSafeStringify=fastSafeStringify$1,copy$2=clipboardCopy_1;function tryStringify(e){try{return JSON.stringify(e)}catch{}}function stateCopy$1(e){var t=tryStringify(e)||fastSafeStringify(e);copy$2(t)}var stateCopy_1=stateCopy$1,plucker_1=plucker;function plucker(e,t){return arguments.length>=2?pluck$1(e)(t):pluck$1(e)}function pluck$1(e){if(e=typeof e=="string"?String(e).trim().split("."):e,e.length<2)return e=e[0],r;var t=e.length;return n;function r(s){return s[e]}function n(s){for(var a=0;a<t&&!(typeof s>"u");a++)s=s[e[a]];return s}}var stateCopy=stateCopy_1,pluck=plucker_1,copy_1=copy$1;function copy$1(e){var t=e&&typeof e=="string",r=t&&arguments.length===1&&e.indexOf("state.")===0;(!e||typeof e=="function")&&(e=window.choo.state),r&&[].push.call(arguments,{state:window.choo.state}),stateCopy(t?pluck.apply(this,arguments):e)}var help_1=help$1;function help$1(){Object.defineProperty(window.choo,"help",{get:e,set:noop$3});function e(){return setTimeout(function(){print("copy","Serialize the current state to the clipboard."),print("debug","Enable Choo debug mode."),print("emit","Emit an event in the Choo emitter."),print("help","Print usage information."),print("log","Print the last 150 events emitted."),print("on","Listen for an event in the Choo emitter."),print("once","Listen for an event once in the Choo emitter."),print("perf","Print out performance metrics"),print("state","Print the Choo state object."),print("storage","Print browser storage information.")},0),"Choo command overview"}}function print(e,t){var r="#cc99cc";console.log("  %cchoo."+e,"color: "+r,"‚Äî "+t)}function noop$3(){}var onPerformance=browser$3,BAR="‚ñà",perf_1=perf$2;function perf$2(e,t,r,n){var s={};window.choo.perf={};var a=new Perf(s,"all");Object.defineProperty(window.choo.perf,"all",{get:a.get.bind(a),set:noop$2});var f=new Perf(s,"core",function(c){return/^choo/.test(c)});Object.defineProperty(window.choo.perf,"core",{get:f.get.bind(f),set:noop$2});var u=new Perf(s,"components",function(c){return!/^choo/.test(c)&&!/^bankai/.test(c)});Object.defineProperty(window.choo.perf,"components",{get:u.get.bind(u),set:noop$2});var l=new Perf(s,"events",function(c){return/^choo\.emit/.test(c)},function(c){return c.replace(/^choo\.emit\('/,"").replace(/'\)$/,"")});Object.defineProperty(window.choo.perf,"events",{get:l.get.bind(l),set:noop$2}),onPerformance(function(c){if(c.entryType==="measure"){var d=c.name.replace(/ .*$/,"");s[d]||(s[d]={name:d,count:0,entries:[]});var g=s[d];g.count+=1,g.entries.push(c.duration)}})}function Perf(e,t,r,n){this.stats=e,this.name=t,this.filter=r||function(){return!0},this.rename=n||function(s){return s}}Perf.prototype.get=function(){var e=Object.keys(this.stats).filter(this.filter),t=this,r=0,n=0,s=e.map(function(l){var c=t.stats[l],d=Number(c.entries.reduce(function(w,T){return w+T},0).toFixed(2));d>r&&(r=d);var g=getMedian(c.entries);g>n&&(n=g);var y=t.rename(c.name);return new PerfEntry(y,d,g,c.count)}),a=10;s.forEach(function(l){var c=l["Total Time (ms)"],d=l["Median (ms)"];l[" "]=f(c/r*100/a),l["  "]=f(d/n*100/a)});function f(l){for(var c="",d=0,g=Math.round(l);d<g;d++)c+=BAR;return c}var u=s.sort(function(l,c){return c["Total Time (ms)"]-l["Total Time (ms)"]});return console.table(u),"Showing performance events for '"+this.name+"'"};function PerfEntry(e,t,r,n){this.Name=e,this["Total Time (ms)"]=t,this[" "]=0,this["Median (ms)"]=r,this["  "]=0,this["Total Count"]=n}function getMedian(e){if(!e.length)return 0;var t=e.slice(0).sort(function(a,f){return a-f}),r=Math.floor(t.length/2),n=t.length%2===0,s=n?(t[r]+t[r-1])/2:t[r];return Number(s.toFixed(2))}function noop$2(){}function removeItems$1(e,t,r){var n,s=e.length;if(!(t>=s||r<=0||t<0)){r=t+r>s?s-t:r;var a=s-r;for(n=t;n<a;++n)e[n]=e[n+r];e.length=a}}const removeArrayItems_esm=Object.freeze(Object.defineProperty({__proto__:null,default:removeItems$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(removeArrayItems_esm);var cloneExports={},clone$1={get exports(){return cloneExports},set exports(e){cloneExports=e}},hasRequiredClone;function requireClone(){return hasRequiredClone||(hasRequiredClone=1,function(e){var t=function(){function r(y,w){return w!=null&&y instanceof w}var n;try{n=Map}catch{n=function(){}}var s;try{s=Set}catch{s=function(){}}var a;try{a=Promise}catch{a=function(){}}function f(y,w,T,_,x){typeof w=="object"&&(T=w.depth,_=w.prototype,x=w.includeNonEnumerable,w=w.circular);var q=[],k=[],S=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof T>"u"&&(T=1/0);function P(b,D){if(b===null)return null;if(D===0)return b;var $,A;if(typeof b!="object")return b;if(r(b,n))$=new n;else if(r(b,s))$=new s;else if(r(b,a))$=new a(function(h,m){b.then(function(v){h(P(v,D-1))},function(v){m(P(v,D-1))})});else if(f.__isArray(b))$=[];else if(f.__isRegExp(b))$=new RegExp(b.source,g(b)),b.lastIndex&&($.lastIndex=b.lastIndex);else if(f.__isDate(b))$=new Date(b.getTime());else{if(S&&Buffer.isBuffer(b))return Buffer.allocUnsafe?$=Buffer.allocUnsafe(b.length):$=new Buffer(b.length),b.copy($),$;r(b,Error)?$=Object.create(b):typeof _>"u"?(A=Object.getPrototypeOf(b),$=Object.create(A)):($=Object.create(_),A=_)}if(w){var M=q.indexOf(b);if(M!=-1)return k[M];q.push(b),k.push($)}r(b,n)&&b.forEach(function(h,m){var v=P(m,D-1),L=P(h,D-1);$.set(v,L)}),r(b,s)&&b.forEach(function(h){var m=P(h,D-1);$.add(m)});for(var E in b){var K;A&&(K=Object.getOwnPropertyDescriptor(A,E)),!(K&&K.set==null)&&($[E]=P(b[E],D-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(b),E=0;E<F.length;E++){var I=F[E],V=Object.getOwnPropertyDescriptor(b,I);V&&!V.enumerable&&!x||($[I]=P(b[I],D-1),V.enumerable||Object.defineProperty($,I,{enumerable:!1}))}if(x)for(var G=Object.getOwnPropertyNames(b),E=0;E<G.length;E++){var B=G[E],V=Object.getOwnPropertyDescriptor(b,B);V&&V.enumerable||($[B]=P(b[B],D-1),Object.defineProperty($,B,{enumerable:!1}))}return $}return P(y,T)}f.clonePrototype=function(w){if(w===null)return null;var T=function(){};return T.prototype=w,new T};function u(y){return Object.prototype.toString.call(y)}f.__objToStr=u;function l(y){return typeof y=="object"&&u(y)==="[object Date]"}f.__isDate=l;function c(y){return typeof y=="object"&&u(y)==="[object Array]"}f.__isArray=c;function d(y){return typeof y=="object"&&u(y)==="[object RegExp]"}f.__isRegExp=d;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return f.__getRegExpFlags=g,f}();e.exports&&(e.exports=t)}(clone$1)),cloneExports}var removeItems=require$$0$1,scheduler$1=nanoscheduler(),nanologger=nanologger$3,_log=nanologger("choo"),clone=requireClone(),MAX_HISTORY_LENGTH=150,log_1=log$1;function log$1(e,t,r,n){var s=window.localStorage.logLevel==="debug",a=[],f=0,u=!0;n.on("debug",function(g){s=g}),window.choo._history=a,window.choo.history=l,Object.defineProperty(window.choo,"log",{get:l,set:noop$1}),Object.defineProperty(window.choo,"history",{get:l,set:noop$1}),t.on("*",function(g,y){f+=1;var w=new c(g,y,e);a.push(w),scheduler$1.push(function(){var T=a.length;T>MAX_HISTORY_LENGTH&&removeItems(a,0,T-MAX_HISTORY_LENGTH)})});function l(){setTimeout(function(){console.table(a)},0);var g=f===1?"event":"events",y=f+" "+g+" recorded, showing the last "+MAX_HISTORY_LENGTH+".";return s===!1?y+=" Enable state capture by calling `choo.debug`.":y+=" Disable state capture by calling `choo.debug = false`.",y}function c(g,y,w){this.name=g,this.data=y===void 0?"<no data>":y,this.state=s?d(w):"<disabled>"}function d(g){try{var y=clone(g);return u||(u=!0),y}catch{return u&&(_log.warn("Could not clone your app state. Make sure to have a serializable state so it can be cloned"),u=!1),"<unserializable>"}}}function noop$1(){}var assert$e=assertExports,getAllRoutes_1=getAllRoutes$1,transform=function(e,t){var r=t||"/",n={},s=e.nodes;return Object.keys(s).forEach(function(a){var f=(r==="/"?r:r+"/")+(a==="$$"?":"+e.name:a),u=s[a].cb;if(u!==void 0&&(n[f]=u),Object.keys(s[a].nodes).length!==0){var l=transform(s[a],f);Object.keys(l).forEach(function(c){n[c]=l[c]})}}),n};function getAllRoutes$1(e){assert$e.equal(typeof e,"function","wayfarer.getAllRoutes: router should be an function");var t=e._trie;assert$e.equal(typeof t,"object","wayfarer.getAllRoutes: trie should be an object");var r=t.trie;return transform(r)}var EventEmitter$2=events$3.EventEmitter,storage=storage_1,logger=logger_1,debug=debug_1,copy=copy_1,help=help_1,perf$1=perf_1,log=log_1,getAllRoutes=getAllRoutes_1,chooDevtools=expose;function expose(e){return e=e||{},t.storeName="choo-devtools",t;function t(r,n,s){var a=new EventEmitter$2;typeof window<"u"&&logger(r,n,e),n.on("DOMContentLoaded",function(){typeof window>"u"||(window.choo={},window.choo.state=r,window.choo.emit=function(){n.emit.apply(n,arguments)},window.choo.on=function(f,u){n.on(f,u)},debug(r,n,s,a),log(r,n,s,a),perf$1(),window.choo.copy=copy,s.router&&s.router.router&&(window.choo.routes=Object.keys(getAllRoutes(s.router.router))),storage(),help())})}}var scrollToAnchor_1=scrollToAnchor$1;function scrollToAnchor$1(e,t){if(e)try{var r=document.querySelector(e);r&&r.scrollIntoView(t)}catch{}}var documentReady$1=ready;function ready(e){if(typeof document>"u")throw new Error("document-ready only runs in the browser");var t=document.readyState;if(t==="complete"||t==="interactive")return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}var scheduler=nanoscheduler(),assert$d=assertExports,perf;nanotiming$3.disabled=!0;try{perf=window.performance,nanotiming$3.disabled=window.localStorage.DISABLE_NANOTIMING==="true"||!perf.mark}catch{}var browser$2=nanotiming$3;function nanotiming$3(e){if(assert$d.equal(typeof e,"string","nanotiming: name should be type string"),nanotiming$3.disabled)return noop;var t=(perf.now()*1e4).toFixed()%Number.MAX_SAFE_INTEGER,r="start-"+t+"-"+e;perf.mark(r);function n(s){var a="end-"+t+"-"+e;perf.mark(a),scheduler.push(function(){var f=null;try{var u=e+" ["+t+"]";perf.measure(u,r,a),perf.clearMarks(r),perf.clearMarks(a)}catch(l){f=l}s&&s(f,e)})}return n.uuid=t,n}function noop(e){e&&scheduler.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var assert$c=assertExports,trie$1=Trie;function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}Trie.prototype.create=function(e){assert$c.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/");function r(n,s){var a=has(t,n)&&t[n];if(a===!1)return s;var f=null;return/^:|^\*/.test(a)?(has(s.nodes,"$$")?f=s.nodes.$$:(f={nodes:{}},s.nodes.$$=f),a[0]==="*"&&(s.wildcard=!0),s.name=a.replace(/^:|^\*/,"")):has(s.nodes,a)?f=s.nodes[a]:(f={nodes:{}},s.nodes[a]=f),r(n+1,f)}return r(0,this.trie)};Trie.prototype.match=function(e){assert$c.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/"),r={};function n(a,f){if(f!==void 0){var u=t[a];if(u===void 0)return f;if(has(f.nodes,u))return n(a+1,f.nodes[u]);if(f.name){try{r[f.name]=decodeURIComponent(u)}catch{return n(a,void 0)}return n(a+1,f.nodes.$$)}else if(f.wildcard){try{r.wildcard=decodeURIComponent(t.slice(a).join("/"))}catch{return n(a,void 0)}return f.nodes.$$}else return n(a+1)}}var s=n(0,this.trie);if(s)return s=Object.assign({},s),s.params=r,s};Trie.prototype.mount=function(e,t){assert$c.equal(typeof e,"string","route should be a string"),assert$c.equal(typeof t,"object","trie should be a object");var r=e.replace(/^\//,"").split("/"),n=null,s=null;if(r.length===1)s=r[0],n=this.create(s);else{var a=r.join("/");s=r[0],n=this.create(a)}Object.assign(n.nodes,t.nodes),t.name&&(n.name=t.name),n.nodes[""]&&(Object.keys(n.nodes[""]).forEach(function(f){f!=="nodes"&&(n[f]=n.nodes[""][f])}),Object.assign(n.nodes,n.nodes[""].nodes),delete n.nodes[""].nodes)};function has(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var assert$b=assertExports,trie=trie$1,wayfarer$1=Wayfarer;function Wayfarer(e){if(!(this instanceof Wayfarer))return new Wayfarer(e);var t=(e||"").replace(/^\//,""),r=trie();return s._trie=r,s.on=n,s.emit=s,s.match=a,s._wayfarer=!0,s;function n(u,l){if(assert$b.equal(typeof u,"string"),assert$b.equal(typeof l,"function"),u=u||"/",l._wayfarer&&l._trie)r.mount(u,l._trie.trie);else{var c=r.create(u);c.cb=l,c.route=u}return s}function s(u){var l=a(u),c=new Array(arguments.length);c[0]=l.params;for(var d=1;d<c.length;d++)c[d]=arguments[d];return l.cb.apply(l.cb,c)}function a(u){assert$b.notEqual(u,void 0,"'route' must be defined");var l=r.match(u);if(l&&l.cb)return new f(l);var c=r.match(t);if(c&&c.cb)return new f(c);throw new Error("route '"+u+"' did not match")}function f(u){this.cb=u.cb,this.route=u.route,this.params=u.params}}var assert$a=assertExports,wayfarer=wayfarer$1,isLocalFile=/file:\/\//.test(typeof window=="object"&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs$1="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix$1=new RegExp(qs$1),nanorouter$1=Nanorouter;function Nanorouter(e){if(!(this instanceof Nanorouter))return new Nanorouter(e);e=e||{},this.router=wayfarer(e.default||"/404")}Nanorouter.prototype.on=function(e,t){assert$a.equal(typeof e,"string"),e=e.replace(/^[#/]/,""),this.router.on(e,t)};Nanorouter.prototype.emit=function(e){return assert$a.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.emit(e)};Nanorouter.prototype.match=function(e){return assert$a.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.match(e)};function pathname(e,t){return t?e=e.replace(stripElectron,""):e=e.replace(prefix,""),decodeURI(e.replace(suffix$1,"").replace(normalize,"/"))}assert$9.notEqual=notEqual;assert$9.notOk=notOk;assert$9.equal=equal;assert$9.ok=assert$9;var nanoassert=assert$9;function equal(e,t,r){assert$9(e==t,r)}function notEqual(e,t,r){assert$9(e!=t,r)}function notOk(e,t){assert$9(!e,t)}function assert$9(e,t){if(!e)throw new Error(t||"AssertionError")}var events$2=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],events$1=events$2,eventsLength=events$1.length,ELEMENT_NODE=1,TEXT_NODE$1=3,COMMENT_NODE=8,morph_1=morph$2;function morph$2(e,t){var r=e.nodeType,n=e.nodeName;r===ELEMENT_NODE&&copyAttrs(e,t),(r===TEXT_NODE$1||r===COMMENT_NODE)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),n==="INPUT"?updateInput(e,t):n==="OPTION"?updateOption(e,t):n==="TEXTAREA"&&updateTextarea(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var r=t.attributes,n=e.attributes,s=null,a=null,f=null,u=null,l=null,c=n.length-1;c>=0;--c)l=n[c],u=l.name,s=l.namespaceURI,a=l.value,s?(u=l.localName||u,f=t.getAttributeNS(s,u),f!==a&&t.setAttributeNS(s,u,a)):t.hasAttribute(u)?(f=t.getAttribute(u),f!==a&&(a==="null"||a==="undefined"?t.removeAttribute(u):t.setAttribute(u,a))):t.setAttribute(u,a);for(var d=r.length-1;d>=0;--d)l=r[d],l.specified!==!1&&(u=l.name,s=l.namespaceURI,s?(u=l.localName||u,e.hasAttributeNS(s,u)||t.removeAttributeNS(s,u)):e.hasAttributeNS(null,u)||t.removeAttribute(u))}function copyEvents(e,t){for(var r=0;r<eventsLength;r++){var n=events$1[r];e[n]?t[n]=e[n]:t[n]&&(t[n]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var r=e.value,n=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),e.indeterminate!==t.indeterminate&&(t.indeterminate=e.indeterminate),t.type!=="file"&&(r!==n&&(t.setAttribute("value",r),t.value=r),r==="null"&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?t.type==="range"&&(t.value=r):t.removeAttribute("value"))}function updateTextarea(e,t){var r=e.value;if(r!==t.value&&(t.value=r),t.firstChild&&t.firstChild.nodeValue!==r){if(r===""&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=r}}function updateAttribute(e,t,r){e[r]!==t[r]&&(t[r]=e[r],e[r]?t.setAttribute(r,""):t.removeAttribute(r))}var assert$8=nanoassert,morph$1=morph_1,TEXT_NODE=3,nanomorph_1=nanomorph$1;function nanomorph$1(e,t,r){return assert$8.equal(typeof e,"object","nanomorph: oldTree should be an object"),assert$8.equal(typeof t,"object","nanomorph: newTree should be an object"),r&&r.childrenOnly?(updateChildren(t,e),e):(assert$8.notEqual(t.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)"),walk(t,e))}function walk(e,t){return t?e?e.isSameNode&&e.isSameNode(t)?t:e.tagName!==t.tagName||getComponentId(e)!==getComponentId(t)?e:(morph$1(e,t),updateChildren(e,t),t):null:e}function getComponentId(e){return e.dataset?e.dataset.nanomorphComponentId:void 0}function updateChildren(e,t){for(var r,n,s,a,f=0,u=0;r=t.childNodes[u],n=e.childNodes[u-f],!(!r&&!n);u++)if(!n)t.removeChild(r),u--;else if(!r)t.appendChild(n),f++;else if(same(n,r))s=walk(n,r),s!==r&&(t.replaceChild(s,r),f++);else{a=null;for(var l=u;l<t.childNodes.length;l++)if(same(t.childNodes[l],n)){a=t.childNodes[l];break}a?(s=walk(n,a),s!==a&&f++,t.insertBefore(s,r)):!n.id&&!r.id?(s=walk(n,r),s!==r&&(t.replaceChild(s,r),f++)):(t.insertBefore(n,r),f++)}}function same(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName!==t.tagName?!1:e.type===TEXT_NODE?e.nodeValue===t.nodeValue:!1}var reg=/([^?=&]+)(=([^&]*))?/g,assert$7=assertExports,browser$1=qs;function qs(e){assert$7.equal(typeof e,"string","nanoquery: url should be type string");var t={};return e.replace(/^.*\?/,"").replace(reg,function(r,n,s,a){var f=decodeURIComponent(a),u=decodeURIComponent(n);t.hasOwnProperty(u)?Array.isArray(t[u])?t[u].push(f):t[u]=[t[u],f]:t[u]=f}),t}var assert$6=assertExports,safeExternalLink=/(noopener|noreferrer) (noopener|noreferrer)/,protocolLink=/^[\w-_]+:/,nanohref$1=href;function href(e,t){assert$6.notEqual(typeof window,"undefined","nanohref: expected window to exist"),t=t||window.document,assert$6.equal(typeof e,"function","nanohref: cb should be type function"),assert$6.equal(typeof t,"object","nanohref: root should be type object"),window.addEventListener("click",function(r){if(!(r.button&&r.button!==0||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.defaultPrevented)){var n=function s(a){if(!(!a||a===t))return a.localName!=="a"||a.href===void 0?s(a.parentNode):a}(r.target);n&&(window.location.protocol!==n.protocol||window.location.hostname!==n.hostname||window.location.port!==n.port||n.hasAttribute("data-nanohref-ignore")||n.hasAttribute("download")||n.getAttribute("target")==="_blank"&&safeExternalLink.test(n.getAttribute("rel"))||protocolLink.test(n.getAttribute("href"))||(r.preventDefault(),e(n)))}})}var assert$5=assertExports,nanoraf_1=nanoraf$1;function nanoraf$1(e,t){assert$5.equal(typeof e,"function","nanoraf: render should be a function"),assert$5.ok(typeof t=="function"||typeof t>"u","nanoraf: raf should be a function or undefined"),t||(t=window.requestAnimationFrame);var r=!1,n=null;return function(){n===null&&!r&&(r=!0,t(function(){r=!1;for(var f=n.length,u=new Array(f),l=0;l<f;l++)u[l]=n[l];e.apply(e,u),n=null})),n=arguments}}var removeArrayItems=function(t,r,n){var s,a=t.length;if(!(r>=a||n===0)){n=r+n>a?a-r:n;var f=a-n;for(s=r;s<f;++s)t[s]=t[s+n];t.length=f}},splice=removeArrayItems,nanotiming$2=browser$2,assert$4=assertExports,nanobus$1=Nanobus;function Nanobus(e){if(!(this instanceof Nanobus))return new Nanobus(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}Nanobus.prototype.emit=function(e){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.emit: eventName should be type string or symbol");for(var t=[],r=1,n=arguments.length;r<n;r++)t.push(arguments[r]);var s=nanotiming$2(this._name+"('"+e.toString()+"')"),a=this._listeners[e];return a&&a.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,s.uuid),s(),this};Nanobus.prototype.on=Nanobus.prototype.addListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.on: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.on: listener should be type function"),e==="*"?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this};Nanobus.prototype.prependListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),e==="*"?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this};Nanobus.prototype.once=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.once: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.once: listener should be type function");var r=this;this.on(e,n);function n(){t.apply(r,arguments),r.removeListener(e,n)}return this};Nanobus.prototype.prependOnceListener=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependOnceListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var r=this;this.prependListener(e,n);function n(){t.apply(r,arguments),r.removeListener(e,n)}return this};Nanobus.prototype.removeListener=function(e,t){if(assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.removeListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),e==="*")return this._starListeners=this._starListeners.slice(),r(this._starListeners,t);return typeof this._listeners[e]<"u"&&(this._listeners[e]=this._listeners[e].slice()),r(this._listeners[e],t);function r(n,s){if(n){var a=n.indexOf(s);if(a!==-1)return splice(n,a,1),!0}}};Nanobus.prototype.removeAllListeners=function(e){return e?e==="*"?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this};Nanobus.prototype.listeners=function(e){var t=e!=="*"?this._listeners[e]:this._starListeners,r=[];if(t)for(var n=t.length,s=0;s<n;s++)r.push(t[s]);return r};Nanobus.prototype._emit=function(e,t,r,n){if(!(typeof e>"u")&&e.length!==0){r===void 0&&(r=t,t=null),t&&(n!==void 0?r=[t].concat(r,n):r=[t].concat(r));for(var s=e.length,a=0;a<s;a++){var f=e[a];f.apply(f,r)}}};var nanolru=LRU$1;function LRU$1(e){if(!(this instanceof LRU$1))return new LRU$1(e);typeof e=="number"&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}Object.defineProperty(LRU$1.prototype,"keys",{get:function(){return Object.keys(this.cache)}});LRU$1.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0};LRU$1.prototype.remove=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}};LRU$1.prototype._unlink=function(e,t,r){this.length--,this.length===0?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=r,this.cache[this.tail].prev=null):(this.cache[t].next=r,this.cache[r].prev=t)};LRU$1.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}};LRU$1.prototype.set=function(e,t){typeof e!="string"&&(e=""+e);var r;if(this.cache.hasOwnProperty(e)){if(r=this.cache[e],r.value=t,this.maxAge&&(r.modified=Date.now()),e===this.head)return t;this._unlink(e,r.prev,r.next)}else r={value:t,modified:0,next:null,prev:null},this.maxAge&&(r.modified=Date.now()),this.cache[e]=r,this.length===this.max&&this.evict();return this.length++,r.next=null,r.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t};LRU$1.prototype._checkAge=function(e,t){return this.maxAge&&Date.now()-t.modified>this.maxAge?(this.remove(e),!1):!0};LRU$1.prototype.get=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}};LRU$1.prototype.evict=function(){this.tail&&this.remove(this.tail)};var assert$3=assertExports,LRU=nanolru,cache=ChooComponentCache;function ChooComponentCache(e,t,r){assert$3.ok(this instanceof ChooComponentCache,"ChooComponentCache should be created with `new`"),assert$3.equal(typeof e,"object","ChooComponentCache: state should be type object"),assert$3.equal(typeof t,"function","ChooComponentCache: emit should be type function"),typeof r=="number"?this.cache=new LRU(r):this.cache=r||new LRU(100),this.state=e,this.emit=t}ChooComponentCache.prototype.render=function(e,t){assert$3.equal(typeof e,"function","ChooComponentCache.render: Component should be type function"),assert$3.ok(typeof t=="string"||typeof t=="number","ChooComponentCache.render: id should be type string or type number");var r=this.cache.get(t);if(!r){for(var n=[],s=2,a=arguments.length;s<a;s++)n.push(arguments[s]);n.unshift(e,t,this.state,this.emit),r=newCall.apply(newCall,n),this.cache.set(t,r)}return r};function newCall(e){return new(e.bind.apply(e,arguments))}var scrollToAnchor=scrollToAnchor_1,documentReady=documentReady$1,nanotiming$1=browser$2,nanorouter=nanorouter$1,nanomorph=nanomorph_1,nanoquery=browser$1,nanohref=nanohref$1,nanoraf=nanoraf_1,nanobus=nanobus$1,assert$2=assertExports,Cache=cache,choo=Choo,HISTORY_OBJECT={};function Choo(e){var t=nanotiming$1("choo.constructor");if(!(this instanceof Choo))return new Choo(e);e=e||{},assert$2.equal(typeof e,"object","choo: opts should be type object");var r=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=e.history===void 0?!0:e.history,this._hrefEnabled=e.href===void 0?!0:e.href,this._hashEnabled=e.hash===void 0?!1:e.hash,this._hasWindow=typeof window<"u",this._cache=e.cache,this._loaded=!1,this._stores=[s],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?Object.assign({},window.initialState,n):n,delete window.initialState):this.state=n,this.router=nanorouter({curry:!0}),this.emitter=nanobus("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title);function s(a){r.emitter.prependListener(r._events.DOMTITLECHANGE,function(f){assert$2.equal(typeof f,"string","events.DOMTitleChange: title should be type string"),a.title=f,r._hasWindow&&(document.title=f)})}t()}Choo.prototype.route=function(e,t){var r=nanotiming$1("choo.route('"+e+"')");assert$2.equal(typeof e,"string","choo.route: route should be type string"),assert$2.equal(typeof t,"function","choo.handler: route should be type function"),this.router.on(e,t),r()};Choo.prototype.use=function(e){assert$2.equal(typeof e,"function","choo.use: cb should be type function");var t=this;this._stores.push(function(r){var n="choo.use";n=e.storeName?n+"("+e.storeName+")":n;var s=nanotiming$1(n);e(r,t.emitter,t),s()})};Choo.prototype.start=function(){assert$2.equal(typeof window,"object","choo.start: window was not found. .start() must be called in a browser, use .toString() if running in Node");var e=nanotiming$1("choo.start"),t=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){t._matchRoute(t.state),t._loaded&&(t.emitter.emit(t._events.RENDER),setTimeout(scrollToAnchor.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(r){assert$2.equal(typeof r,"string","events.pushState: href should be type string"),window.history.pushState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(r){assert$2.equal(typeof r,"string","events.replaceState: href should be type string"),window.history.replaceState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),window.onpopstate=function(){t.emitter.emit(t._events.POPSTATE)},t._hrefEnabled&&nanohref(function(r){var n=r.href,s=r.hash;if(n===window.location.href){!t._hashEnabled&&s&&scrollToAnchor(s);return}t.emitter.emit(t._events.PUSHSTATE,n)})),this._setCache(this.state),this._matchRoute(this.state),this._stores.forEach(function(r){r(t.state)}),this._tree=this._prerender(this.state),assert$2.ok(this._tree,"choo.start: no valid DOM node returned for location "+this.state.href),this.emitter.prependListener(t._events.RENDER,nanoraf(function(){var r=nanotiming$1("choo.render"),n=t._prerender(t.state);assert$2.ok(n,"choo.render: no valid DOM node returned for location "+t.state.href),assert$2.equal(t._tree.nodeName,n.nodeName,"choo.render: The target node <"+t._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+n.nodeName.toLowerCase()+">.");var s=nanotiming$1("choo.morph");nanomorph(t._tree,n),s(),r()})),documentReady(function(){t.emitter.emit(t._events.DOMCONTENTLOADED),t._loaded=!0}),e(),this._tree};Choo.prototype.mount=function(t){var r=nanotiming$1("choo.mount('"+t+"')");if(typeof window!="object")return assert$2.ok(typeof t=="string","choo.mount: selector should be type String"),this.selector=t,r(),this;assert$2.ok(typeof t=="string"||typeof t=="object","choo.mount: selector should be type String or HTMLElement");var n=this;documentReady(function(){var s=nanotiming$1("choo.render"),a=n.start();typeof t=="string"?n._tree=document.querySelector(t):n._tree=t,assert$2.ok(n._tree,"choo.mount: could not query selector: "+t),assert$2.equal(n._tree.nodeName,a.nodeName,"choo.mount: The target node <"+n._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+a.nodeName.toLowerCase()+">.");var f=nanotiming$1("choo.morph");nanomorph(n._tree,a),f(),s()}),r()};Choo.prototype.toString=function(e,t){t=t||{},t.components=t.components||{},t.events=Object.assign({},t.events,this._events),assert$2.notEqual(typeof window,"object","choo.mount: window was found. .toString() must be called in Node, use .start() or .mount() if running in the browser"),assert$2.equal(typeof e,"string","choo.toString: location should be type string"),assert$2.equal(typeof t,"object","choo.toString: state should be type object"),this._setCache(t),this._matchRoute(t,e),this.emitter.removeAllListeners(),this._stores.forEach(function(n){n(t)});var r=this._prerender(t);return assert$2.ok(r,"choo.toString: no valid value returned for the route "+e),assert$2(!Array.isArray(r),"choo.toString: return value was an array for the route "+e),typeof r.outerHTML=="string"?r.outerHTML:r.toString()};Choo.prototype._matchRoute=function(e,t){var r,n;t?(r=t.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(r=r.replace(/#.+$/,"")),n=t):(r=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(r+=window.location.hash.replace(/^#/,"/")),n=window.location.search);var s=this.router.match(r);this._handler=s.cb,e.href=r,e.query=nanoquery(n),e.route=s.route,e.params=s.params};Choo.prototype._prerender=function(e){var t=nanotiming$1("choo.prerender('"+e.route+"')"),r=this._handler(e,this.emit);return t(),r};Choo.prototype._setCache=function(e){var t=new Cache(e,this.emitter.emit.bind(this.emitter),this._cache);e.cache=r;function r(n,s){assert$2.equal(typeof n,"function","choo.state.cache: Component should be type function");for(var a=[],f=0,u=arguments.length;f<u;f++)a.push(arguments[f]);return t.render.apply(t,a)}r.toJSON=function(){return null}};const examples={},store=(state,emitter)=>{state.flok={enabled:!1,url:"https://flok.clic.cf/s/rarefaccio?layout=hydra&noHydra=1&bgOpacity=0&readonly=1"},state.style={color1:"#f0f",color0:"#00f",width:window.innerWidth,height:window.innerHeight},state.panels={editor:!0,details:!0,files:!0},state.sketches={name:"",all:{},visible:!1},state.emitter=emitter,emitter.on("draw:select",e=>{state.drawSynth.selectLine(e),emitter.emit("render")}),emitter.on("hideAll",()=>{state.panels.editor=!state.panels.editor,emitter.emit("render")}),emitter.on("midi:select",e=>{console.log("selected midi",e),state.drawSynth.midi.select(parseFloat(e)),emitter.emit("render")}),emitter.on("sketches:updateName",e=>{console.log("updating name",e),state.sketches.name=e,emitter.emit("render")}),emitter.on("sketches:toggle",()=>{state.sketches.visible=!state.sketches.visible,emitter.emit("render")}),emitter.on("sketches:load",e=>{loadCode(e),state.sketches.visible=!1,emitter.emit("render")}),emitter.on("editor:download",e=>{screencap();const t=e,r=new Blob([t],{type:"text/plain"}),n=document.createElement("a");n.style.display="none";let s=new Date;n.download=`${state.sketches.name}-${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}-${s.getHours()}.${s.getMinutes()}.${s.getSeconds()}.js`,n.href=URL.createObjectURL(r),n.click(),setTimeout(()=>{window.URL.revokeObjectURL(n.href)},300)}),emitter.on("editor:save",e=>{console.log("saving to local storate",e),state.sketches.all[state.sketches.name]=e,localStorage.setItem("spiral-synth",JSON.stringify(state.sketches.all)),emitter.emit("render")}),state.sketches.all=examples;const p=localStorage.getItem("spiral-synth");if(p){const e=Object.assign({},state.sketches.all,JSON.parse(p));for(key in e)typeof e[key]!="string"&&delete e[key];state.sketches.all=e}emitter.on("DOMContentLoaded",()=>{console.log("dom loaded!")});function loadCode(e){state.sketches.name=e,console.log("loading",e,state.sketches),state.editor.editor.setValue(state.sketches.all[e]),emitter.emit("render")}emitter.on("toggle",(e,t="panels")=>{state[t][e]=!state[t][e],emitter.emit("render"),t=="renderer"&&emitter.emit(`renderer: toggle ${e}`,state[t][e])}),emitter.on("renderer:delete element",e=>{state.selected!==null&&(state.selected=null,emitter.emit("render"))}),state.flok.enabled===!0&&window.addEventListener("message",function(event){if(event.data){if(event.data.cmd==="evaluateCode")eval(event.data.args.body);else if(event.data.cmd==="initialSync"){const editorText=event.data.args.editors;editorText[0]&&eval(editorText[0])}}})};var componentExports={},component={get exports(){return componentExports},set exports(e){componentExports=e}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var topLevel=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:{},minDoc=require$$0,doccy;typeof document<"u"?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"],doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc));var document_1=doccy,onLoadExports={},onLoad={get exports(){return onLoadExports},set exports(e){onLoadExports=e}},win;typeof window<"u"?win=window:typeof commonjsGlobal<"u"?win=commonjsGlobal:typeof self<"u"?win=self:win={};var window_1=win,document$2=document_1,window$1=window_1,assert$1=assertExports,watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window$1&&window$1.MutationObserver){var observer=new MutationObserver(function(e){if(!(Object.keys(watch).length<1))for(var t=0;t<e.length;t++){if(e[t].attributeName===KEY_ATTR){eachAttr(e[t],turnon,turnoff);continue}eachMutation(e[t].removedNodes,turnoff),eachMutation(e[t].addedNodes,turnon)}});document$2.body?beginObserve(observer):document$2.addEventListener("DOMContentLoaded",function(e){beginObserve(observer)})}function beginObserve(e){e.observe(document$2.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}onLoad.exports=function e(t,r,n,s){return assert$1(document$2.body,"on-load: will not work prior to DOMContentLoaded"),r=r||function(){},n=n||function(){},t.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[r,n,0,s||e.caller],INDEX+=1,t};onLoadExports.KEY_ATTR=KEY_ATTR;onLoadExports.KEY_ID=KEY_ID;function turnon(e,t){watch[e][0]&&watch[e][2]===0&&(watch[e][0](t),watch[e][2]=1)}function turnoff(e,t){watch[e][1]&&watch[e][2]===1&&(watch[e][1](t),watch[e][2]=0)}function eachAttr(e,t,r){var n=e.target.getAttribute(KEY_ATTR);if(sameOrigin(e.oldValue,n)){watch[n]=watch[e.oldValue];return}watch[e.oldValue]&&r(e.oldValue,e.target),watch[n]&&t(n,e.target)}function sameOrigin(e,t){return!e||!t?!1:watch[e][3]===watch[t][3]}function eachMutation(e,t){for(var r=Object.keys(watch),n=0;n<e.length;n++){if(e[n]&&e[n].getAttribute&&e[n].getAttribute(KEY_ATTR)){var s=e[n].getAttribute(KEY_ATTR);r.forEach(function(a){s===a&&t(a,e[n])})}e[n].childNodes.length>0&&eachMutation(e[n].childNodes,t)}}var document$1=document_1,nanotiming=browser$2,morph=nanomorph_1,onload=onLoadExports,OL_KEY_ID=onload.KEY_ID,OL_ATTR_ID=onload.KEY_ATTR,assert=assertExports,nanocomponent=Nanocomponent;function makeID(){return"ncid-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}function Nanocomponent(e){this._hasWindow=typeof window<"u",this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];var t=this;Object.defineProperty(this,"element",{get:function(){var r=document$1.getElementById(t._id);if(r)return r.dataset.nanocomponent===t._ncID?r:void 0}})}Nanocomponent.prototype.render=function(){for(var e=nanotiming(this._name+".render"),t=this,r=new Array(arguments.length),n,s=0;s<arguments.length;s++)r[s]=arguments[s];if(this._hasWindow)if(this.element){n=this.element;var f=nanotiming(this._name+".update"),u=this._rerender||this.update.apply(this,r);if(f(),this._rerender&&(this._rerender=!1),u){var l=this._handleRender(r),c=nanotiming(this._name+".morph");morph(n,l),c(),this.afterupdate&&this.afterupdate(n)}return this._proxy||(this._proxy=this._createProxy()),e(),this._proxy}else return this._reset(),n=this._handleRender(r),this.beforerender&&this.beforerender(n),(this.load||this.unload||this.afterreorder)&&(onload(n,t._handleLoad,t._handleUnload,t._ncID),this._olID=n.dataset[OL_KEY_ID]),e(),n;else{var a=nanotiming(this._name+".create");return n=this.createElement.apply(this,r),a(),e(),n}};Nanocomponent.prototype.rerender=function(){assert(this.element,"nanocomponent: cant rerender on an unmounted dom node"),this._rerender=!0,this.render.apply(this,this._arguments)};Nanocomponent.prototype._handleRender=function(e){var t=nanotiming(this._name+".createElement"),r=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=r.nodeName),assert(r instanceof window.Element,"nanocomponent: createElement should return a single DOM node"),assert.equal(this._rootNodeName,r.nodeName,"nanocomponent: root node types cannot differ between re-renders"),this._arguments=e,this._brandNode(this._ensureID(r))};Nanocomponent.prototype._createProxy=function(){var e=document$1.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(r){return r&&r.dataset.nanocomponent===t._ncID},e};Nanocomponent.prototype._reset=function(){this._ncID=makeID(),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null};Nanocomponent.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(OL_ATTR_ID,this._olID),e};Nanocomponent.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e};Nanocomponent.prototype._handleLoad=function(e){if(this._loaded){this.afterreorder&&this.afterreorder(e);return}this._loaded=!0,this.load&&this.load(e)};Nanocomponent.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))};Nanocomponent.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")};Nanocomponent.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};(function(e){e.exports=nanocomponent})(component);const Component=getDefaultExportFromCjs(componentExports);var inherits_browserExports={},inherits_browser={get exports(){return inherits_browserExports},set exports(e){inherits_browserExports=e}};typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};function EventEmitter$1(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var events=EventEmitter$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._maxListeners=void 0;EventEmitter$1.defaultMaxListeners=10;EventEmitter$1.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};EventEmitter$1.prototype.emit=function(e){var t,r,n,s,a,f;if(this._events||(this._events={}),e==="error"&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(r=this._events[e],isUndefined(r))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(isObject(r))for(s=Array.prototype.slice.call(arguments,1),f=r.slice(),n=f.length,a=0;a<n;a++)f[a].apply(this,s);return!0};EventEmitter$1.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(isUndefined(this._maxListeners)?r=EventEmitter$1.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};EventEmitter$1.prototype.removeListener=function(e,t){var r,n,s,a;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};EventEmitter$1.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],isFunction(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};EventEmitter$1.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:isFunction(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};EventEmitter$1.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0};EventEmitter$1.listenerCount=function(e,t){return e.listenerCount(t)};function isFunction(e){return typeof e=="function"}function isNumber(e){return typeof e=="number"}function isObject(e){return typeof e=="object"&&e!==null}function isUndefined(e){return e===void 0}var browser=commonjsGlobal.performance&&commonjsGlobal.performance.now?function e(){return performance.now()}:Date.now||function e(){return+new Date},rafExports={},raf$2={get exports(){return rafExports},set exports(e){rafExports=e}},performanceNowExports={},performanceNow={get exports(){return performanceNowExports},set exports(e){performanceNowExports=e}};(function(){var e,t,r,n,s,a;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(e()-s)/1e6},t=process.hrtime,e=function(){var f;return f=t(),f[0]*1e9+f[1]},n=e(),a=process.uptime()*1e9,s=n-a):Date.now?(performanceNow.exports=function(){return Date.now()-r},r=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(commonjsGlobal);var now$1=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf$1=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i=0;!raf$1&&i<vendors.length;i++)raf$1=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf$1||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf$1=function(e){if(queue.length===0){var t=now$1(),r=Math.max(0,frameDuration-(t-last));last=r+t,setTimeout(function(){var n=queue.slice(0);queue.length=0;for(var s=0;s<n.length;s++)if(!n[s].cancelled)try{n[s].callback(last)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var t=0;t<queue.length;t++)queue[t].handle===e&&(queue[t].cancelled=!0)}}raf$2.exports=function(e){return raf$1.call(root,e)};rafExports.cancel=function(){caf.apply(root,arguments)};rafExports.polyfill=function(e){e||(e=root),e.requestAnimationFrame=raf$1,e.cancelAnimationFrame=caf};var inherits=inherits_browserExports,EventEmitter=events.EventEmitter,now=browser,raf=rafExports;function Engine(e){if(!(this instanceof Engine))return new Engine(e);this.running=!1,this.last=now(),this._frame=0,this._tick=this.tick.bind(this),e&&this.on("tick",e)}inherits(Engine,EventEmitter);Engine.prototype.start=function(){if(!this.running)return this.running=!0,this.last=now(),this._frame=raf(this._tick),this};Engine.prototype.stop=function(){return this.running=!1,this._frame!==0&&raf.cancel(this._frame),this._frame=0,this};Engine.prototype.tick=function(){this._frame=raf(this._tick);var e=now(),t=e-this.last;this.emit("tick",t),this.last=e};class TapCanvas extends Component{constructor(t,r,n){super(t),this.local=r.components[t]={},this.emit=n,this.state=r,this.width=r.style.width,this.height=r.style.height,this.isInitialized=!1}load(t){const r=document.createElement("video");navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}}).then(u=>{console.log("got camera",u),r.autoplay=!0,r.srcObject=u,console.log("width",r.width,r.videoWidth)}).catch(u=>{console.log("could not get camera",u)}),window.requestAnimationFrame(n);function n(u){if(f.length===1){const l=f[0],c=r.videoWidth/6,d=r.videoHeight/6;a.drawImage(r,l.x-c,l.y-d,c,d)}else if(f.length===2){const l=f[0].x,c=f[1].x,d=f[0].y,g=f[1].y,y=Math.min(l,c),w=Math.min(d,g),T=Math.abs(c-l),_=Math.abs(g-d);a.drawImage(r,y,w,T,_)}else for(let l=0;l<f.length-1;l++)a.beginPath(),a.moveTo(f[l].x,f[l].y),a.lineTo(f[l+1].x,f[l+1].y),a.stroke();requestAnimationFrame(n)}const s=document.createElement("canvas");s.width=this.width,s.height=this.height,s.style.position="absolute",t.appendChild(s);const a=s.getContext("2d");a.fillStyle="blue";let f=[];s.style.touchAction="none",s.addEventListener("pointerdown",u=>{f.push(u)}),s.addEventListener("pointermove",u=>{if(f.length>0)for(let l=0;l<f.length;l++)f[l].pointerId===u.pointerId&&(f[l]=Object.assign({},f[l],{x:u.x,y:u.y,pointerId:f[l].pointerId}))}),s.addEventListener("pointerup",u=>{console.log("pointer up",f),f=f.filter(c=>c.pointerId!==u.pointerId)}),this.emit("render")}update(){return!1}createElement({width:t=window.innerWidth,height:r=window.innerHeight}={}){return this.width=t,this.height=r,html`<div class="" id="tap-canvas"></div>`}}function mainView(e,t){return html`
      <div class="w-100 h-100 fixed absolute courier flex flex-column flex-row-ns justify-between" style="background-color:${e.style.color0};color:${e.style.color1}">
        <div class="relative" style="flex-shrink:0;width:${e.style.width}px;height:100%">
       <!--freesound could go here --->
       <div class="relative" style="flex-shrink:0;width:${e.style.width}px;height:${e.style.height}px">

        <div class=" absolute" id="fabric-container">${e.cache(TapCanvas,"canvas-experiments").render({width:e.style.width,height:e.style.height})}</div>
       </div>
        </div>
      <!--- <div class="flex-auto flex flex-column"> --->
       

      </div>
    `}var insertCssExports={},insertCss$1={get exports(){return insertCssExports},set exports(e){insertCssExports=e}},containers=[],styleElements=[],usage="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function insertCss(e,t){if(t=t||{},e===void 0)throw new Error(usage);var r=t.prepend===!0?"prepend":"append",n=t.container!==void 0?t.container:document.querySelector("head"),s=containers.indexOf(n);s===-1&&(s=containers.push(n)-1,styleElements[s]={});var a;return styleElements[s]!==void 0&&styleElements[s][r]!==void 0?a=styleElements[s][r]:(a=styleElements[s][r]=createStyleElement(),r==="prepend"?n.insertBefore(a,n.childNodes[0]):n.appendChild(a)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),a.styleSheet?a.styleSheet.cssText+=e:a.textContent+=e,a}function createStyleElement(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}insertCss$1.exports=insertCss;insertCssExports.insertCss=insertCss;const keymaps=(e,t)=>{window.onkeydown=r=>{r.ctrlKey===!0&&(r.code=="Digit1"?t.emit("loadCode",0):r.code=="Digit2"?t.emit("loadCode",1):r.code=="Digit3"?t.emit("loadCode",2):r.code=="Digit4"?t.emit("loadCode",3):r.code=="Digit5"&&t.emit("loadCode",4))}};insertCssExports(`.styled-background {
  background-color: #f00 !important;
  background: rgba(0, 255, 255, 0.5) !important;
  mix-blend-mode: difference;
}

.CodeMirror-scroll {
  max-height: 300px;
}

.CodeMirror-line span {
  pointer-events: all;
 /* background: #fff;
  padding: 2px;*/
}
  `);const app=choo({hash:!0});app.use(chooDevtools());app.use(store);app.use(keymaps);app.route("/",mainView);app.route("/spirals",mainView);app.route("*",mainView);app.mount("#choo");
